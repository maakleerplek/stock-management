import{A as p}from"./ThemeContext-BjJu0IKI.js";import{az as f,r as i,e as g,an as m,ao as E}from"./index-DjOBj_Ai.js";import{u as d,f as F}from"./PluginUIFeature-DWPwHUQS.js";function v({enabled:c=!0,featureType:t,context:n}){const r=f(),s=i.useMemo(()=>r.isSet("ENABLE_PLUGINS_INTERFACE"),[r]),{data:a}=p({enabled:s&&!!t&&c,queryKey:["custom-ui-features",t,JSON.stringify(n)],queryFn:async()=>!s||!t?Promise.resolve([]):g.get(m(E.plugin_ui_features_list,void 0,{feature_type:t}),{params:n}).then(e=>e.data).catch(e=>(console.error(`ERR: Failed to fetch plugin ui features for feature "${t}":`,e),[]))}),u=d();return i.useMemo(()=>a?.map(e=>({options:{...e},func:(async l=>{const o=await F(e.source,"getFeature");if(o)return o({featureContext:l,inventreeContext:u,serverContext:e.context})})}))||[],[a,u])}export{v as u};
//# sourceMappingURL=UsePluginUIFeature-DBND8C-h.js.map
