import{ag as f,r as o,ab as s,j as e,d as j,ao as u,an as _,be as g,S as x,ak as r,N as h}from"./index-DjOBj_Ai.js";import{u as b,a as k,I as y}from"./InvenTreeTable-C-s5lvnS.js";import{a as S,a1 as D,ag as m}from"./ThemeContext-BjJu0IKI.js";import{D as M}from"./DetailDrawer-CrvVPwnN.js";import{e as E}from"./Filter-CpWhllKn.js";import{u as I}from"./UseInstance-BYH4ds5B.js";import"./DesktopAppView-D6tHFi_e.js";import"./IconChevronDown-I6OOyduR.js";import"./index-_kfXKtfq.js";import"./ActionButton-D4nRdKaB.js";import"./QRCode-BL-P7mX-.js";import"./browser-JUP5PmmS.js";import"./IconDotsVertical-CGvw5eIR.js";import"./IconTags-Bukq1non.js";import"./IconChevronLeft-BZQuVB3G.js";function w({errorId:a}){const{id:l}=D(),p=o.useMemo(()=>a??l,[a,l]),i=I({endpoint:u.error_report_list,pk:p,defaultValue:{},hasPrimaryKey:!0,refetchOnMount:!0}),t=o.useMemo(()=>i.instance||{},[i.instance]);return i.instanceQuery.isFetching||i.instanceQuery.isLoading?e.jsx(g,{}):e.jsx(x,{gap:"xs",children:e.jsx(r,{children:e.jsxs(r.Tbody,{children:[e.jsxs(r.Tr,{children:[e.jsx(r.Th,{children:s._({id:"xDAtGP"})}),e.jsx(r.Td,{children:t.info}),e.jsx(r.Td,{children:e.jsx(h,{justify:"right",children:e.jsx(m,{value:t.info,size:"sm"})})})]}),e.jsxs(r.Tr,{children:[e.jsx(r.Th,{children:s._({id:"8TMaZI"})}),e.jsx(r.Td,{children:t.when})]}),e.jsxs(r.Tr,{children:[e.jsx(r.Th,{children:s._({id:"I6gXOa"})}),e.jsx(r.Td,{children:t.path})]}),e.jsxs(r.Tr,{children:[e.jsx(r.Th,{children:s._({id:"g3fe3D"})}),e.jsx(r.Td,{colSpan:2,children:e.jsx(h,{justify:"right",children:e.jsx(m,{value:t.data,size:"sm"})})})]}),e.jsx(r.Tr,{children:e.jsx(r.Td,{colSpan:2,children:e.jsx(x,{gap:3,children:t.data?.split(`
`).map((c,d)=>e.jsx(j,{size:"xs",children:c},`error-line-${d}`))})})})]})})})}function N(){const a=b("error-report"),l=f(),p=S(),i=o.useMemo(()=>[{accessor:"when",title:s._({id:"1ZF9KQ"}),sortable:!0},{accessor:"path",title:s._({id:"I6gXOa"}),sortable:!0},{accessor:"info",title:s._({id:"pao9M8"})}],[]),[t,c]=o.useState({}),d=E({url:u.error_report_list,pk:t.pk,title:s._({id:"LKUVto"}),preFormContent:e.jsx(j,{c:"red",children:s._({id:"crTsip"})}),successMessage:s._({id:"lYkkju"}),table:a}),T=o.useCallback(n=>[k({onClick:()=>{c(n),d.open()}})],[]);return e.jsxs(e.Fragment,{children:[d.modal,e.jsx(M,{title:s._({id:"7Jw/XW"}),size:"xl",renderContent:n=>{if(n)return e.jsx(w,{errorId:t.pk})}}),e.jsx(y,{url:_(u.error_report_list),tableState:a,columns:i,props:{enableBulkDelete:l.isStaff(),enableSelection:!0,rowActions:T,onRowClick:n=>{c(n),p(`${n.pk}/`)}}})]})}export{N as default};
//# sourceMappingURL=ErrorTable-YVFYNsif.js.map
