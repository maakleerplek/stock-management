import{bQ as G,r as s,ag as I,ab as e,j as o,am as y,bS as x,ao as l,aO as c,an as E}from"./index-DjOBj_Ai.js";import{c as A,j as O,e as U,m as V}from"./Filter-CpWhllKn.js";import{u as N,R as Q,c as z,a as B,I as L}from"./InvenTreeTable-C-s5lvnS.js";import{u as d}from"./CommonForms-B8LSJp62.js";import"./ThemeContext-BjJu0IKI.js";import"./DesktopAppView-D6tHFi_e.js";import"./ActionButton-D4nRdKaB.js";import"./IconChevronDown-I6OOyduR.js";import"./index-_kfXKtfq.js";import"./QRCode-BL-P7mX-.js";import"./browser-JUP5PmmS.js";import"./IconDotsVertical-CGvw5eIR.js";import"./IconTags-Bukq1non.js";import"./IconUsers-DgSduCbv.js";function ot(){const a=N("customstates"),i=G(),m=s.useCallback((t,n)=>{const w=Object.values(i.status??{}).find(u=>u.status_class===t),v=Object.values(w?.values??{}).find(u=>u.key===n);return v?.label??v?.name??""},[i]),r=I(),h=s.useMemo(()=>[{name:"reference_status",label:e._({id:"TGcVE+"}),field_type:"choice",choices:Object.values(i.status??{}).map(t=>({label:t.status_class,value:t.status_class}))}],[i]),j=s.useMemo(()=>[{accessor:"reference_status",title:e._({id:"uAQUqI"}),sortable:!0},{accessor:"logical_key",title:e._({id:"Iz1I4v"}),sortable:!0,render:t=>{const n=m(t.reference_status,t.logical_key);return n||t.logical_key}},{accessor:"name",title:e._({id:"sJGljQ"}),sortable:!0},{accessor:"label",title:e._({id:"0gS7M5"}),sortable:!0},{accessor:"key",sortable:!0},{accessor:"color",render:t=>o.jsx(y,{color:x[t.color]||x.default,variant:"filled",size:"xs",children:t.color})}],[m]),g=d(),T=d(),F=d(),[M,p]=s.useState({}),_=A({url:l.custom_state_list,title:e._({id:"vTGxVN"}),fields:g,table:a}),b=A({url:l.custom_state_list,title:e._({id:"vTGxVN"}),fields:T,initialData:M,table:a}),[S,C]=s.useState(void 0),f=O({url:l.custom_state_list,pk:S,title:e._({id:"/viGTM"}),fields:F,table:a}),k=U({url:l.custom_state_list,pk:S,title:e._({id:"Yrs5A6"}),table:a}),R=s.useCallback(t=>[Q({hidden:!r.hasChangeRole(c.admin),onClick:()=>{C(t.pk),f.open()}}),z({hidden:!r.hasAddRole(c.admin),onClick:()=>{p(t),b.open()}}),B({hidden:!r.hasDeleteRole(c.admin),onClick:()=>{C(t.pk),k.open()}})],[r]),D=s.useMemo(()=>[o.jsx(V,{onClick:()=>{p({}),_.open()},tooltip:e._({id:"vTGxVN"})},"add")],[]);return o.jsxs(o.Fragment,{children:[_.modal,f.modal,b.modal,k.modal,o.jsx(L,{url:E(l.custom_state_list),tableState:a,columns:j,props:{rowActions:R,tableActions:D,tableFilters:h,enableDownload:!0}})]})}export{ot as default};
//# sourceMappingURL=CustomStateTable-xobuVzAe.js.map
