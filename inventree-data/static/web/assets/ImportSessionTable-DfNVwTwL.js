import{r as o,ab as s,ao as a,j as t,bc as u,an as d}from"./index-DjOBj_Ai.js";import{e as I,c as k,ae as w,S as h,ac as A,m as F}from"./Filter-CpWhllKn.js";import{P as v}from"./index-_kfXKtfq.js";import{u as T,a as C,I as j}from"./InvenTreeTable-C-s5lvnS.js";import{I as y,d as P}from"./ImporterForms-bhuZRzA9.js";import{A as D}from"./AttachmentLink-EwW6behJ.js";import{u as M}from"./UseFilter-BwrHmdD3.js";import{S as U,k as O}from"./ColumnRenderers-BCeqgJNS.js";import"./ThemeContext-BjJu0IKI.js";import"./DesktopAppView-D6tHFi_e.js";import"./ActionButton-D4nRdKaB.js";import"./IconChevronDown-I6OOyduR.js";import"./QRCode-BL-P7mX-.js";import"./browser-JUP5PmmS.js";import"./IconDotsVertical-CGvw5eIR.js";import"./IconTags-Bukq1non.js";import"./UseInstance-BYH4ds5B.js";import"./UseStatusCodes-BH1R2YPA.js";import"./YesNoButton-CYsvXLSb.js";import"./IconCircleDashedCheck-FiF_1OHY.js";import"./formatters-Dkpc25sQ.js";function te(){const r=T("importsession"),[_,l]=o.useState(!1),[n,i]=o.useState(void 0),m=I({url:a.import_session_list,pk:n,title:s._({id:"HkPAKw"}),table:r}),p=k({url:a.import_session_list,title:s._({id:"PlWSqy"}),fields:P({allowUpdate:!0}),onFormSuccess:e=>{i(e.pk),l(!0),r.refreshTable()}}),b=o.useMemo(()=>[{accessor:"model_type",sortable:!0},U({model:u.importsession,accessor:"status"}),{accessor:"data_file",render:e=>t.jsx(D,{attachment:e.data_file}),sortable:!1,noContext:!0},O({accessor:"timestamp",title:s._({id:"3wG7HI"})}),{accessor:"user",sortable:!1,title:s._({id:"7PzzBU"}),render:e=>w({instance:e.user_detail})},{sortable:!1,accessor:"row_count",title:s._({id:"drGZDS"}),render:e=>t.jsx(v,{progressLabel:!0,value:e.completed_row_count,maximum:e.row_count})}],[]),c=M({url:d(a.import_session_list),method:"OPTIONS",accessor:"data.actions.POST.model_type.choices",transform:e=>({value:e.value,label:e.display_name})}),f=o.useMemo(()=>[{name:"model_type",label:s._({id:"pLosEx"}),description:s._({id:"qrooIv"}),choices:c.choices},{name:"status",label:s._({id:"uAQUqI"}),description:s._({id:"iv0viw"}),choiceFunction:h(u.importsession)},A({})],[c.choices]),S=o.useMemo(()=>[t.jsx(F,{tooltip:s._({id:"PlWSqy"}),onClick:()=>p.open()},"create-import-session")],[]),x=o.useCallback(e=>[C({onClick:()=>{i(e.pk),m.open()}})],[]);return t.jsxs(t.Fragment,{children:[p.modal,m.modal,t.jsx(j,{url:d(a.import_session_list),tableState:r,columns:b,props:{rowActions:x,tableActions:S,tableFilters:f,enableBulkDelete:!0,enableSelection:!0,onRowClick:e=>{i(e.pk),l(!0)}}}),t.jsx(y,{sessionId:n??-1,opened:n!==void 0&&_,onClose:()=>{i(void 0),l(!1),r.refreshTable()}})]})}export{te as default};
//# sourceMappingURL=ImportSessionTable-DfNVwTwL.js.map
