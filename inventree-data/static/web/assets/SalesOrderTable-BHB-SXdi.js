import{ag as b,r as l,ab as r,bc as a,j as t,ao as u,aO as f,an as C}from"./index-DjOBj_Ai.js";import{O as F,w as y,x as h,y as x,M as j,z as D,C as T,B as g,E as R,F as S,G as M,H as V,I as A,J as O,K as B,P as w,L as P,N as U,U as E,c as v,m as J}from"./Filter-CpWhllKn.js";import{a as K}from"./formatters-Dkpc25sQ.js";import{u as I}from"./ReturnOrderForms-BSa4qnvF.js";import{u as L,I as k}from"./InvenTreeTable-C-s5lvnS.js";import{R as z,D as N,a as W,S as Z,b as H,c as q,d as G,e as Q,T as X,f as ee,g as Y,C as $,i as re}from"./ColumnRenderers-BCeqgJNS.js";import{P as te}from"./index-_kfXKtfq.js";import{u as se}from"./SalesOrderForms-EpMC8M0_.js";function ce({partId:s,customerId:o}){const m=L(s?"returnorders-part":"returnorders-index"),n=b(),c=l.useMemo(()=>{const e=[F({model:a.returnorder}),y(),h(),x(),j(),D(),T(),g(),R(),S(),M(),V(),{name:"has_target_date",type:"boolean",label:r._({id:"egtJvp"}),description:r._({id:"hnmJUh"})},{name:"has_start_date",type:"boolean",label:r._({id:"7Cajbj"}),description:r._({id:"dklbxT"})},A(),O(),B(),w(),P(),U()];return s&&e.push(E()),e},[s]),p=l.useMemo(()=>[z({}),{accessor:"customer__name",title:r._({id:"876pfE"}),sortable:!0,render:e=>t.jsx($,{company:e.customer_detail})},{accessor:"customer_reference"},N({}),W({}),Z({model:a.returnorder}),H({defaultVisible:!1}),q({defaultVisible:!1}),G({defaultVisible:!1}),Q({defaultVisible:!1}),X({}),ee({accessor:"complete_date"}),Y({}),{accessor:"total_price",title:r._({id:"KyZVKD"}),sortable:!0,render:e=>K(e.total_price,{currency:e.order_currency||e.customer_detail?.currency})}],[]),i=I({}),d=v({url:u.return_order_list,title:r._({id:"mpNlR/"}),fields:i,initialData:{customer:o},follow:!0,modelType:a.returnorder}),_=l.useMemo(()=>[t.jsx(J,{tooltip:r._({id:"mpNlR/"}),onClick:()=>d.open(),hidden:!n.hasAddRole(f.return_order)},"add-return-order")],[n]);return t.jsxs(t.Fragment,{children:[d.modal,t.jsx(k,{url:C(u.return_order_list),tableState:m,columns:p,props:{params:{part:s,customer:o,customer_detail:!0},tableFilters:c,tableActions:_,modelType:a.returnorder,enableSelection:!0,enableDownload:!0,enableReports:!0,enableLabels:!0}})]})}function pe({partId:s,customerId:o}){const m=L(s?"salesorder-part":"salesorder-index"),n=b(),c=l.useMemo(()=>{const e=[F({model:a.salesorder}),y(),h(),x(),j(),D(),T(),g(),R(),S(),M(),V(),{name:"has_target_date",type:"boolean",label:r._({id:"egtJvp"}),description:r._({id:"hnmJUh"})},{name:"has_start_date",type:"boolean",label:r._({id:"7Cajbj"}),description:r._({id:"dklbxT"})},A(),O(),B(),w(),P(),U()];return s&&e.push(E()),e},[s]),p=se({}),i=v({url:u.sales_order_list,title:r._({id:"VzdnWM"}),fields:p,initialData:{customer:o},follow:!0,modelType:a.salesorder}),d=l.useMemo(()=>[t.jsx(J,{tooltip:r._({id:"VzdnWM"}),onClick:()=>i.open(),hidden:!n.hasAddRole(f.sales_order)},"add-sales-order")],[n]),_=l.useMemo(()=>[z({}),{accessor:"customer__name",title:r._({id:"876pfE"}),sortable:!0,render:e=>t.jsx($,{company:e.customer_detail})},{accessor:"customer_reference",title:r._({id:"ZVUe1A"})},N({}),W({}),{accessor:"shipments_count",title:r._({id:"aljM0q"}),minWidth:125,render:e=>t.jsx(te,{progressLabel:!0,value:e.completed_shipments_count,maximum:e.shipments_count})},Z({model:a.salesorder}),H({defaultVisible:!1}),q({defaultVisible:!1}),G({defaultVisible:!1}),Q({defaultVisible:!1}),X({}),re({}),Y({}),{accessor:"total_price",title:r._({id:"KyZVKD"}),sortable:!0,render:e=>K(e.total_price,{currency:e.order_currency||e.customer_detail?.currency})}],[]);return t.jsxs(t.Fragment,{children:[i.modal,t.jsx(k,{url:C(u.sales_order_list),tableState:m,columns:_,props:{params:{customer_detail:!0,part:s,customer:o},tableFilters:c,tableActions:d,modelType:a.salesorder,enableSelection:!0,enableDownload:!0,enableReports:!0,enableLabels:!0}})]})}export{ce as R,pe as S};
//# sourceMappingURL=SalesOrderTable-BHB-SXdi.js.map
