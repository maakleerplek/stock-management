import{ag as A,r as e,ab as s,ao as n,j as a,N as T,d as f,aO as m,an as j}from"./index-DjOBj_Ai.js";import{c as k,j as M,e as y,m as C}from"./Filter-CpWhllKn.js";import{u as R,R as v,a as F,I as S}from"./InvenTreeTable-C-s5lvnS.js";import"./ThemeContext-BjJu0IKI.js";import"./DesktopAppView-D6tHFi_e.js";import"./ActionButton-D4nRdKaB.js";import"./IconChevronDown-I6OOyduR.js";import"./index-_kfXKtfq.js";import"./QRCode-BL-P7mX-.js";import"./browser-JUP5PmmS.js";import"./IconDotsVertical-CGvw5eIR.js";import"./IconTags-Bukq1non.js";function $({categoryId:l}){const o=R("part-category-parameter-templates"),r=A(),i=e.useMemo(()=>({category:{value:l,disabled:l!==void 0},parameter_template:{},default_value:{}}),[l]),[u,d]=e.useState(0),c=k({url:n.category_parameter_list,title:s._({id:"+BLSbg"}),fields:e.useMemo(()=>({...i}),[i]),table:o}),_=M({url:n.category_parameter_list,pk:u,title:s._({id:"kF/O0U"}),fields:e.useMemo(()=>({...i}),[i]),table:o}),b=y({url:n.category_parameter_list,pk:u,title:s._({id:"O5duuA"}),table:o}),h=e.useMemo(()=>[],[]),g=e.useMemo(()=>[{accessor:"category_detail.name",title:s._({id:"K7tIrx"}),sortable:!0,switchable:!1},{accessor:"category_detail.pathstring"},{accessor:"parameter_template_detail.name",title:s._({id:"+nwoLk"}),sortable:!0,switchable:!1},{accessor:"default_value",sortable:!0,switchable:!1,render:t=>{if(!t?.default_value)return"-";let p="";return t?.parameter_template_detail?.units&&(p=`[${t.parameter_template_detail.units}]`),a.jsxs(T,{justify:"space-between",grow:!0,children:[a.jsx(f,{children:t.default_value}),p&&a.jsx(f,{size:"xs",children:p})]})}}],[]),x=e.useCallback(t=>[v({hidden:!r.hasChangeRole(m.part),onClick:()=>{d(t.pk),_.open()}}),F({hidden:!r.hasDeleteRole(m.part),onClick:()=>{d(t.pk),b.open()}})],[r]),w=e.useMemo(()=>[a.jsx(C,{tooltip:s._({id:"+BLSbg"}),onClick:()=>c.open(),hidden:!r.hasAddRole(m.part)},"add")],[r]);return a.jsxs(a.Fragment,{children:[c.modal,_.modal,b.modal,a.jsx(S,{url:j(n.category_parameter_list),tableState:o,columns:g,props:{rowActions:x,tableFilters:h,tableActions:w,enableDownload:!0,params:{category:l}}})]})}export{$ as default};
//# sourceMappingURL=PartCategoryTemplateTable-D8QNErbJ.js.map
