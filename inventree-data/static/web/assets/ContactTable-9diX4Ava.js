import{ag as w,r as s,ab as o,j as n,aD as k,bc as g,ao as c,aO as a,an as j}from"./index-DjOBj_Ai.js";import{v as x,j as D,c as y,e as F,m as T}from"./Filter-CpWhllKn.js";import{u as v,R as E,a as S,I as U}from"./InvenTreeTable-C-s5lvnS.js";import{a as I}from"./ThemeContext-BjJu0IKI.js";function B({companyId:i,params:_}){const t=w(),f=I(),l=v("contact"),C=s.useMemo(()=>{const e=[{accessor:"name",sortable:!0,switchable:!1},{accessor:"phone",switchable:!0,sortable:!1},{accessor:"email",switchable:!0,sortable:!1},{accessor:"role",switchable:!0,sortable:!1}];return i===void 0&&e.unshift({accessor:"company_name",title:o._({id:"7i8j3G"}),sortable:!1,switchable:!0,render:r=>n.jsx(x,{primary:r.company_name,url:k(g.company,r.company),navigate:f})}),e},[]),d=s.useMemo(()=>({company:{},name:{},phone:{},email:{},role:{}}),[]),[u,p]=s.useState(0),m=D({url:c.contact_list,pk:u,title:o._({id:"mQpWAe"}),fields:d,onFormSuccess:e=>l.updateRecord(e)}),h=y({url:c.contact_list,title:o._({id:"M0FgOk"}),initialData:{company:i},fields:d,table:l}),b=F({url:c.contact_list,pk:u,title:o._({id:"0oMKRL"}),table:l}),R=s.useCallback(e=>{const r=t.hasChangeRole(a.purchase_order)||t.hasChangeRole(a.sales_order),M=t.hasDeleteRole(a.purchase_order)||t.hasDeleteRole(a.sales_order);return[E({hidden:!r,onClick:()=>{p(e.pk),m.open()}}),S({hidden:!M,onClick:()=>{p(e.pk),b.open()}})]},[t]),A=s.useMemo(()=>{const e=t.hasAddRole(a.purchase_order)||t.hasAddRole(a.sales_order);return[n.jsx(T,{tooltip:o._({id:"QsNWTM"}),onClick:()=>h.open(),hidden:!e},"add-contact")]},[t]);return n.jsxs(n.Fragment,{children:[h.modal,m.modal,b.modal,n.jsx(U,{url:j(c.contact_list),tableState:l,columns:C,props:{enableDownload:!0,rowActions:R,tableActions:A,params:{..._,company:i}}})]})}export{B as C};
//# sourceMappingURL=ContactTable-9diX4Ava.js.map
