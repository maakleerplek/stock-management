import{r as o,ag as A,j as n,ab as a,ao as u,aO as i,bc as R,an as x}from"./index-DjOBj_Ai.js";import{c as j,j as k,e as y,m as D}from"./Filter-CpWhllKn.js";import{u as F,R as T,a as S,I as v}from"./InvenTreeTable-C-s5lvnS.js";import{u as w}from"./CompanyForms-BrBn0vUb.js";import{P as E,D as O,L as g,C as L}from"./ColumnRenderers-BCeqgJNS.js";function V({manufacturerId:t,partId:r}){const b=o.useMemo(()=>{let e="manufacturer-part";return t&&(e+="-manufacturer"),r&&(e+="-part"),e},[t,r]),l=F(b),s=A(),M=o.useMemo(()=>[E({switchable:!!r}),{accessor:"manufacturer",sortable:!0,render:e=>n.jsx(L,{company:e?.manufacturer_detail})},{accessor:"MPN",title:a._({id:"TOxiOu"}),sortable:!0},O({}),g({})],[r]),c=w(),[d,m]=o.useState(void 0),p=j({url:u.manufacturer_part_list,title:a._({id:"uOeMYf"}),fields:c,table:l,initialData:{manufacturer:t,part:r}}),f=k({url:u.manufacturer_part_list,pk:d,title:a._({id:"b30yxS"}),fields:c,table:l}),_=y({url:u.manufacturer_part_list,pk:d,title:a._({id:"fMDrRl"}),table:l}),C=o.useMemo(()=>[{name:"part_active",label:a._({id:"9RQlSP"}),description:a._({id:"jZ1jY6"}),type:"boolean"},{name:"manufacturer_active",label:a._({id:"PdV8Ly"}),active:!t,description:a._({id:"gMQC25"}),type:"boolean"}],[t]),h=o.useMemo(()=>{const e=s.hasAddRole(i.purchase_order)&&s.hasAddRole(i.part);return[n.jsx(D,{tooltip:a._({id:"uOeMYf"}),onClick:()=>p.open(),hidden:!e},"add-manufacturer-part")]},[s]),P=o.useCallback(e=>[T({hidden:!s.hasChangeRole(i.purchase_order),onClick:()=>{m(e.pk),f.open()}}),S({hidden:!s.hasDeleteRole(i.purchase_order),onClick:()=>{m(e.pk),_.open()}})],[s]);return n.jsxs(n.Fragment,{children:[p.modal,f.modal,_.modal,n.jsx(v,{url:x(u.manufacturer_part_list),tableState:l,columns:M,props:{params:{part:r,manufacturer:t,part_detail:!0,manufacturer_detail:!0},enableDownload:!0,rowActions:P,tableActions:h,tableFilters:C,modelType:R.manufacturerpart}})]})}export{V as M};
//# sourceMappingURL=ManufacturerPartTable-CUciRCYo.js.map
