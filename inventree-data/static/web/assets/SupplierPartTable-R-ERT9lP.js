import{K as T,ag as D,r as l,j as t,ab as e,d as k,ao as p,aO as n,bc as E,an as w}from"./index-DjOBj_Ai.js";import{A as B}from"./ActionButton-D4nRdKaB.js";import{Q as C,q as W,c as z,m as N,j as Q,e as O}from"./Filter-CpWhllKn.js";import{u as U,R as V,a as q,I as L}from"./InvenTreeTable-C-s5lvnS.js";import{I as X}from"./ImportPartWizard-ANfVbVcJ.js";import{a as g}from"./CompanyForms-BrBn0vUb.js";import{u as J}from"./UsePlugins-eh-Mb5PQ.js";import{P as K,D as G,B as H,h as Z,L as I,N as Y,C as S}from"./ColumnRenderers-BCeqgJNS.js";import{am as $}from"./ThemeContext-BjJu0IKI.js";/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M3 21v-13l9 -4l9 4v13",key:"svg-0"}],["path",{d:"M13 13h4v8h-10v-6h6",key:"svg-1"}],["path",{d:"M13 21v-9a1 1 0 0 0 -1 -1h-2a1 1 0 0 0 -1 1v3",key:"svg-2"}]],ue=T("outline","building-warehouse","BuildingWarehouse",ee);function ce({manufacturerId:j,manufacturerPartId:u,partId:s,supplierId:c}){const o=U("supplierparts"),r=D(),A=l.useMemo(()=>[K({switchable:!!s,part:"part_detail"}),{accessor:"supplier",sortable:!0,render:a=>t.jsx(S,{company:a?.supplier_detail})},{accessor:"SKU",title:e._({id:"nne72x"}),sortable:!0},G({}),{accessor:"manufacturer",title:e._({id:"+m9/3S"}),sortable:!0,render:a=>t.jsx(S,{company:a?.manufacturer_detail})},{accessor:"MPN",sortable:!0,title:e._({id:"TOxiOu"}),render:a=>a?.manufacturer_part_detail?.MPN},H({accessor:"active",title:e._({id:"F6pfE9"}),sortable:!0,switchable:!0,defaultVisible:!1}),Z({accessor:"in_stock",sortable:!0}),{accessor:"packaging",sortable:!0,defaultVisible:!1},{accessor:"pack_quantity",sortable:!0,render:a=>{const i=a?.part_detail??{},P=[];return i.units&&P.push(t.jsxs(k,{children:[e._({id:"v9F5VO"})," : ",i.units]},"base")),t.jsx(C,{value:W(a.pack_quantity),extra:P,title:e._({id:"J9LTXQ"})})}},I({}),Y({}),{accessor:"available",sortable:!0,defaultVisible:!1,render:a=>{const i=[];return a.availablility_updated&&i.push(t.jsxs(k,{children:[e._({id:"+b7T3G"})," : ",a.availablility_updated]})),t.jsx(C,{value:a.available,extra:i})}}],[s]),M=g({partId:s}),d=z({url:p.supplier_part_list,title:e._({id:"EREF+D"}),fields:M,initialData:{part:s,supplier:c,manufacturer_part:u},table:o,successMessage:e._({id:"LjPQ/X"})}),m=J("supplier"),_=X({partId:s}),F=l.useMemo(()=>[t.jsx(N,{tooltip:e._({id:"PsAftp"}),onClick:()=>d.open(),hidden:!r.hasAddRole(n.purchase_order)},"add-supplier-part"),t.jsx(B,{icon:t.jsx($,{}),color:"green",tooltip:e._({id:"+JWrX4"}),onClick:()=>_.openWizard(),hidden:m.length===0||!r.hasAddRole(n.part)||!s},"import-part")],[r,s,m]),y=l.useMemo(()=>[{name:"active",label:e._({id:"F6pfE9"}),description:e._({id:"fPFpxB"})},{name:"part_active",label:e._({id:"9RQlSP"}),description:e._({id:"AS2E8V"})},{name:"supplier_active",label:e._({id:"2OQxz2"}),description:e._({id:"T+mlMU"})},{name:"has_stock",label:e._({id:"zn38D/"}),description:e._({id:"u22Ntx"})}],[]),b=g({}),[h,f]=l.useState(0),x=Q({url:p.supplier_part_list,pk:h,title:e._({id:"qZstuw"}),fields:b,table:o}),v=O({url:p.supplier_part_list,pk:h,title:e._({id:"9Qoago"}),table:o}),R=l.useCallback(a=>[V({hidden:!r.hasChangeRole(n.purchase_order),onClick:()=>{f(a.pk),x.open()}}),q({hidden:!r.hasDeleteRole(n.purchase_order),onClick:()=>{f(a.pk),v.open()}})],[r,b]);return t.jsxs(t.Fragment,{children:[d.modal,x.modal,v.modal,_.wizard,t.jsx(L,{url:w(p.supplier_part_list),tableState:o,columns:A,props:{params:{manufacturer:j,manufacturer_part:u,supplier:c,part:s,part_detail:!0,supplier_detail:!0,manufacturer_detail:!0},rowActions:R,enableDownload:!0,tableActions:F,tableFilters:y,modelType:E.supplierpart}})]})}export{ue as I,ce as S};
//# sourceMappingURL=SupplierPartTable-R-ERT9lP.js.map
