import{az as C,r as o,ab as e,j as s,bc as i,ag as F,ao as b,aO as D,an as h}from"./index-DjOBj_Ai.js";import{w as x,O as g,x as B,y as S,M as T,z as R,C as j,B as y,E as A,F as L,G as U,H as V,I as E,J as w,P,K as M,af as O,L as v,ab as I,U as N,c as k,m as J}from"./Filter-CpWhllKn.js";import{P as q}from"./index-_kfXKtfq.js";import{u as X}from"./BuildForms-BNnXhzVm.js";import{u as z,I as G}from"./InvenTreeTable-C-s5lvnS.js";import{R as H,P as W,D as K,S as Z,b as Q,B as Y,c as $,e as ee,T as te,k as ae,U as se,g as re}from"./ColumnRenderers-BCeqgJNS.js";function be({partId:t,parentBuildId:r,salesOrderId:d}){const l=C(),c=z(t?"buildorder-part":"buildorder-index"),m=o.useMemo(()=>[H({}),W({switchable:!1}),{accessor:"part_detail.IPN",sortable:!0,switchable:!0,title:e._({id:"3wXEsN"})},{accessor:"part_detail.revision",title:e._({id:"6LTyxl"}),sortable:!0,defaultVisible:!1},K({accessor:"title",sortable:!1}),{accessor:"completed",title:e._({id:"qqWcBV"}),minWidth:125,sortable:!0,switchable:!1,render:a=>s.jsx(q,{progressLabel:!0,value:a.completed,maximum:a.quantity})},Z({model:i.build}),Q({defaultVisible:!1}),{accessor:"level",sortable:!0,switchable:!0,hidden:!r,defaultVisible:!1},{accessor:"priority",sortable:!0,defaultVisible:!1},Y({accessor:"external",title:e._({id:"bVhrVt"}),sortable:!0,switchable:!0,hidden:!l.isSet("BUILDORDER_EXTERNAL_BUILDS")}),$({defaultVisible:!1}),ee({defaultVisible:!1}),te({}),ae({accessor:"completion_date",title:e._({id:"41ha49"}),sortable:!0}),se({accessor:"issued_by_detail",ordering:"issued_by",title:e._({id:"kmUN8p"})}),re({})],[r,l]),p=o.useMemo(()=>{const a=[x(),g({model:i.build}),B(),S(),T(),R(),j(),y(),A(),L(),U(),V(),{name:"has_target_date",type:"boolean",label:e._({id:"egtJvp"}),description:e._({id:"hnmJUh"})},{name:"has_start_date",type:"boolean",label:e._({id:"7Cajbj"}),description:e._({id:"dklbxT"})},E(),w(),P(),M(),O(),v(),{name:"external",label:e._({id:"bVhrVt"}),description:e._({id:"tJZ0bI"}),active:l.isSet("BUILDORDER_EXTERNAL_BUILDS")},I()];return t&&a.push(N()),a},[t,l]),n=F(),f=X({create:!0,modalId:"create-build-order"}),u=k({url:b.build_order_list,title:e._({id:"59jtLx"}),modalId:"create-build-order",fields:f,initialData:{part:t,sales_order:d,parent:r},follow:!0,modelType:i.build}),_=o.useMemo(()=>[s.jsx(J,{hidden:!n.hasAddRole(D.build),tooltip:e._({id:"59jtLx"}),onClick:()=>u.open()},"add-build-order")],[n]);return s.jsxs(s.Fragment,{children:[u.modal,s.jsx(G,{url:h(b.build_order_list),tableState:c,columns:m,props:{params:{part:t,ancestor:r,sales_order:d,part_detail:!0},tableActions:_,tableFilters:p,modelType:i.build,enableSelection:!0,enableReports:!0,enableLabels:!0,enableDownload:!0}})]})}export{be as B};
//# sourceMappingURL=BuildOrderTable-kSdveWqR.js.map
